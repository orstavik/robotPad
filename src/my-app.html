<link rel="import" href="../bower_components/polymer/polymer.html">
<!--<link rel="import" href="letter-shape.html">-->
<!--<link rel="import" href="shape-info.html">-->
<!--<link rel="import" href="shape-keyboard.html">-->
<!--<link rel="import" href="shape-links.html">-->
<!--<link rel="import" href="json-object.html">-->
<link rel="import" href="intertext-selectable.html">


<!--<shape-links id="links" on-nevv="addLetter"></shape-links>-->

<!--<json-object obj="{{letters}}" on-edited="deepNotifyLetters"></json-object>-->

<!--<template is="dom-repeat" items="[[letters]]">-->
<!--<shape-info on-propchange="deepNotifyLetters" input="[[item]]" selectable>-->
<!--<letter-shape input="[[item]]" counter="42"></letter-shape>-->
<!--</shape-info>-->
<!--</template>-->
<!--<shape-keyboard on-changeprop="updateSelectedElementInfo"></shape-keyboard>-->

<dom-module id="my-app">
    <template>

        <style>
            :host {
                display: block;
            }
            [data-selected] {
                border: 2px solid red;
            }

            /*json-object {*/
            /*position: fixed;*/
            /*top: 0;*/
            /*left: 0;*/
            /*}*/

            #cross {
                position: absolute;
                bottom: 20%;
                left: 20%;
                width: 60%;
                height: 50%;
                border: 1px dotted black;
                border-right: none;
                border-top: none;
            }
        </style>

        <intertext-selectable radio-button>
            <div id="cross">&nbsp;</div>

            <div data-selectable>one ok</div>
            <div data-selectable>two ok</div>
            <div>three not!</div>
            <div id="tom" data-selectable>four ok</div>
            <input type="text" value="{{ivar::input}}">
        </intertext-selectable>
    </template>

    <script>

        class MyApp extends Polymer.Element {
            static get is() {
                return "my-app";
            }

            constructor() {
                super();
                console.log("hei, im created!");
            }

            static get config() {
                return {
                    properties: {
                        ivar: {
                            type: String,
                            value: "ivar",
                            observer: "doConsoleLog"
                        }
                    },
                    observers: [
                        "doConsoleLog2(ivar)"
                    ]
                };
            }

//            setSelect(e) {
//                console.log(e.target);
//                console.log(this.$.tom);
//                var old = this.shadowRoot.querySelector("[data-selected]");
//                if (old) {
//                    old.classList.remove("data-selected");
//                    old.removeAttribute("data-selected");
//                }
//                var nevv = e.target;
//                while (!nevv.hasAttribute("data-selectable"))
//                    nevv = nevv.parentNode || nevv.host;
//                nevv.setAttribute("data-selected", true);
//                nevv.classList.add("data-selected");
////                this.deepNotifyLetters();
//            }
//

            doConsoleLog() {
                console.log("ivar was here");
            }

            doConsoleLog2() {
                console.log("ivar was here too");
            }

            connectedCallback() {
                super.connectedCallback();
                console.log("ivars connected");
            }

        }
        customElements.define(MyApp.is, MyApp);


        //        Polymer({
        //            is: 'my-app',
        //            properties: {
        //                letters: Array,
        //                selected: Number
        //            },
        //            attached: function(){
        //                var start= '[{"letter":"yell","color":"crimson","link":' +
        //                '"http://vignette3.wikia.nocookie.net/thesimssocial/images/b/b3/Dog-Bone-(item).png/revision/latest?cb=20121122020046",' +
        //                '"position":{"x":211,"y":244}},' +
        //                '{"letter":"a","color":"red","link":"../images/keys/a.png","position":{"x":429,"y":212}},' +
        //                '{"letter":"f","color":"blue","link":"../images/keys/f.png","position":{"x":111,"y":414},"scale":1.84,"rotation":62.17},' +
        //                '{"letter":"j","color":"green","link":"../images/keys/j.png","position":{"x":478,"y":420},"rotation":119.57}]';
        //                this.set("letters", JSON.parse(start));
        //            },
        //            updateSelectedElementInfo: function (e) {
        //                this.shadowRoot.querySelector("[selected]").updatePropertyFieldsRelative(e);
        //                this.deepNotifyLetters();
        //            },
        //            deepNotifyLetters: function () {
        //                this.deepNotify("letters");
        //            },
        //            hideNames: function () {
        //                var names = this.shadowRoot.querySelectorAll(".shapeName");
        //                names.forEach(function (el) {
        //                    el.style.display = checkbox.checked ? "initial" : "none";
        //                });
        //            },
        //            deepNotify: function (key) {
        //                this.set(key, JSON.parse(JSON.stringify(this[key])));
        ////                var tmp = this[key];
        ////                this.set(key, []);
        ////                this.set(key, tmp);
        //            },
        //            addLetter: function(e){
        //                this.push("letters", e.detail);
        //                this.deepNotifyLetters();
        //            }
        //        });

    </script>
</dom-module>


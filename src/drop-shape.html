<link rel="import" href="../bower_components/polymer/polymer.html"/>
<dom-module id="drop-shape">
    <template>
        <style>
            :host {
                display: flex;
                width: 40px;
                height: 40px;
                border-radius: 50%;
            }

            #inner {
                display: flex;
                box-sizing: border-box;
                width: 100%;
                height: 100%;
                background: lightgray;
                border-radius: 0 50% 50%;
            }
            
            :host([centered]) #inner {
                transform: rotate(45deg);
            }
            :host(.color0) #inner{
                background: var(--tone-color-0);
            }
            :host(.color1) #inner{
                background: var(--tone-color-1);
            }
            :host(.color2) #inner{
                background: var(--tone-color-2);
            }
            :host(.color3) #inner{
                background: var(--tone-color-3);
            }
            :host(.color4) #inner{
                background: var(--tone-color-4);
            }
            :host(.color5) #inner{
                background: var(--tone-color-5);
            }
            :host(.color6) #inner{
                background: var(--tone-color-6);
            }
            :host(.color7) #inner{
                background: var(--tone-color-7);
            }
            :host(.color8) #inner{
                background: var(--tone-color-8);
            }
            :host(.color9) #inner{
                background: var(--tone-color-9);
            }
            :host(.color10) #inner{
                background: var(--tone-color-10);
            }
            :host(.color11) #inner{
                background: var(--tone-color-11);
            }

        </style>

        <div id="inner"></div>

    </template>

    <script>
        class DropShape extends Polymer.Element {
            static get is() {
                return "drop-shape";
            }

            static get config() {
                return {
                    properties: {
                        input: Object,
                        counter: Number,
                        selected: {
                            type: Boolean,
                            observer: "getElementInfo"
                        },
                        centered: {
                            type: Boolean,
                            value: true,
                            reflectToAttribute: true
                        }
                    }
                };
            }

            constructor() {
                super();
                window.addEventListener("keypress", function(e) {
                    if (e.code === "KeyM" && this.parentElement.dataset.selected == "true")
                        this.centered = !this.centered;
                }.bind(this));
            }
        }
        customElements.define(DropShape.is, DropShape);
    </script>
</dom-module>

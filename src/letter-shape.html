<link rel="import" href="../bower_components/polymer/polymer.html"/>
<dom-module id="letter-shape">
    <template>
        <style>
            :host {
                display: block;
            }

            .circle {
                border-radius: 50%;
            }

            div.shape {
                box-sizing: border-box;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 100px;
                height: 100px;
            }

            .shapeName {
                pointer-events: none;
            }

        </style>

        <template is="dom-if" if="{{isTriangle(input.letter)}}">
            <svg data-shape class="shape triangle" width="110" height="130" style="fill: [[input.color]]; z-index: 0;"
                 data-type="[[input.letter]]">
                <polygon points="55,7 5,93 105,93" style="pointer-events: none"></polygon>
                <text x="24" y="80" stroke="none" fill="black">triangle [[counter]]</text>
            </svg>
        </template>
        <template is="dom-if" if="{{isCircle(input.letter)}}">
            <div data-shape class="shape circle" style="background-color: [[input.color]]; z-index: 0;"
                 data-type="[[input.letter]]">
                <span class='shapeName'>circle[[counter]]</span>
            </div>
        </template>
        <template is="dom-if" if="{{isSquare(input.letter)}}">
            <div data-shape class="shape square" style="background-color: [[input.color]]; z-index: 0;"
                 data-type="[[input.letter]]">
                <span class='shapeName'>square[[counter]]</span>
            </div>
        </template>
        <template is="dom-if" if="{{isCustom(input.letter)}}">
            <img data-shape class="shape custom" src="[[input.link]]" width="100" style="z-index: 0"
                 alt="">
        </template>
    </template>

    <script>
        class LetterShape extends Polymer.Element {
            static get is() {
                return "letter-shape";
            }

            static get config() {
                return {
                    properties: {
                        input: Object,
                        counter: Number,
                        selected: {
                            type: Boolean,
                            observer: "getElementInfo"
                        }
                    }
                };
            }
            isTriangle(l) {
                return l === "t";
            }
            isCircle(l) {
                return l === "c";
            }
            isSquare(l) {
                return l === "s";
            }
            isCustom(l) {
                if (!l)
                    return false;
                return !this.isTriangle(l) && !this.isSquare(l) && !this.isCircle(l);
            }
        }
        customElements.define(LetterShape.is, LetterShape);
    </script>
</dom-module>
